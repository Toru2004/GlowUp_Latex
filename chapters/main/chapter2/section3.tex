\section{Sơ đồ Class (Class Diagram)}
\begin{figure}[H]
    \centering
    \includegraphics[width=0.8\textwidth]{graphics/main/chapter2/section2/class23.jpg}
    \caption{Sơ đồ lớp thiết kế website bán hàng mỹ phẩm}
    \label{fig:activity_vnpay}
\end{figure}

%====================================================
% Class Users
%====================================================
\subsection{Class Users}

\begin{table}[H]
\centering
\begin{tabular}{|l|l|p{7cm}|}
\hline
\textbf{Thuộc tính} & \textbf{Kiểu dữ liệu} & \textbf{Diễn giải} \\ \hline
id & int (PK) & Khóa chính định danh người dùng. \\ \hline
full\_name & varchar & Họ và tên người dùng. \\ \hline
email & varchar & Email đăng nhập và xác thực (duy nhất). \\ \hline
password & varchar & Mật khẩu đã được mã hóa. \\ \hline
phone & varchar & Số điện thoại liên hệ. \\ \hline
role & varchar & Vai trò (admin, user). \\ \hline
status & varchar & Trạng thái tài khoản (active, inactive, banned). \\ \hline
created\_at & timestamp & Thời điểm tạo tài khoản. \\ \hline
updated\_at & timestamp & Thời điểm cập nhật thông tin gần nhất. \\ \hline
\end{tabular}
\caption{Bảng diễn giải lớp Users}
\label{tab:users}
\end{table}

%====================================================
% Class Categories
%====================================================
\subsection{Class Categories}

\begin{table}[H]
\centering
\begin{tabular}{|l|l|p{7cm}|}
\hline
\textbf{Thuộc tính} & \textbf{Kiểu dữ liệu} & \textbf{Diễn giải} \\ \hline
id & int (PK) & Khóa chính danh mục. \\ \hline
name & varchar & Tên danh mục sản phẩm. \\ \hline
description & text & Mô tả chi tiết danh mục. \\ \hline
image & varchar & Hình ảnh đại diện danh mục. \\ \hline
created\_at & timestamp & Thời điểm tạo danh mục. \\ \hline
updated\_at & timestamp & Thời điểm cập nhật danh mục. \\ \hline
\end{tabular}
\caption{Bảng diễn giải lớp Categories}
\label{tab:categories}
\end{table}

%====================================================
% Class Products
%====================================================
\subsection{Class Products}

\begin{table}[H]
\centering
\begin{tabular}{|l|l|p{7cm}|}
\hline
\textbf{Thuộc tính} & \textbf{Kiểu dữ liệu} & \textbf{Diễn giải} \\ \hline
id & int (PK) & Khóa chính sản phẩm. \\ \hline
name & varchar & Tên sản phẩm. \\ \hline
brand & varchar & Thương hiệu sản phẩm. \\ \hline
price & decimal & Giá bán sản phẩm. \\ \hline
quantity & int & Số lượng tồn kho. \\ \hline
description & text & Mô tả chi tiết sản phẩm. \\ \hline
images & text & Danh sách hình ảnh (có thể lưu JSON hoặc URL). \\ \hline
category\_id & int (FK) & Tham chiếu đến bảng Categories(id). \\ \hline
created\_at & timestamp & Thời điểm thêm sản phẩm. \\ \hline
updated\_at & timestamp & Thời điểm cập nhật sản phẩm. \\ \hline
\end{tabular}
\caption{Bảng diễn giải lớp Products}
\label{tab:products}
\end{table}

%====================================================
% Class Carts
%====================================================
\subsection{Class Carts}

\begin{table}[H]
\centering
\begin{tabular}{|l|l|p{7cm}|}
\hline
\textbf{Thuộc tính} & \textbf{Kiểu dữ liệu} & \textbf{Diễn giải} \\ \hline
id & int (PK) & Khóa chính giỏ hàng. \\ \hline
user\_id & int (FK) & Tham chiếu đến bảng Users(id). \\ \hline
created\_at & timestamp & Thời điểm tạo giỏ hàng. \\ \hline
updated\_at & timestamp & Thời điểm cập nhật giỏ hàng. \\ \hline
\end{tabular}
\caption{Bảng diễn giải lớp Carts}
\label{tab:carts}
\end{table}

%====================================================
% Class Cart_Items
%====================================================
\subsection{Class Cart\_Items}

\begin{table}[H]
\centering
\begin{tabular}{|l|l|p{7cm}|}
\hline
\textbf{Thuộc tính} & \textbf{Kiểu dữ liệu} & \textbf{Diễn giải} \\ \hline
id & int (PK) & Khóa chính chi tiết giỏ hàng. \\ \hline
cart\_id & int (FK) & Tham chiếu đến bảng Carts(id). \\ \hline
product\_id & int (FK) & Tham chiếu đến bảng Products(id). \\ \hline
quantity & int & Số lượng sản phẩm trong giỏ. \\ \hline
created\_at & timestamp & Thời điểm thêm vào giỏ. \\ \hline
updated\_at & timestamp & Thời điểm cập nhật số lượng. \\ \hline
\end{tabular}
\caption{Bảng diễn giải lớp Cart\_Items}
\label{tab:cart_items}
\end{table}

%====================================================
% Class Orders
%====================================================
\subsection{Class Orders}

\begin{table}[H]
\centering
\begin{tabular}{|l|l|p{7cm}|}
\hline
\textbf{Thuộc tính} & \textbf{Kiểu dữ liệu} & \textbf{Diễn giải} \\ \hline
id & int (PK) & Khóa chính đơn hàng. \\ \hline
user\_id & int (FK) & Tham chiếu đến bảng Users(id). \\ \hline
total\_price & decimal & Tổng giá trị đơn hàng. \\ \hline
order\_date & timestamp & Thời điểm đặt hàng. \\ \hline
payment\_status & varchar & Trạng thái thanh toán (pending, paid, failed). \\ \hline
payment\_method & varchar & Phương thức thanh toán (COD, Bank, VNPay...). \\ \hline
shipping\_address\_id & int (FK) & Tham chiếu đến bảng User\_Addresses(id). \\ \hline
shipping\_method\_id & int (FK) & Tham chiếu đến bảng Shipping\_Methods(id). \\ \hline
shipping\_code & varchar & Mã vận đơn của đơn vị vận chuyển. \\ \hline
shipping\_status & varchar & Trạng thái giao hàng (processing, shipping, delivered). \\ \hline
created\_at & timestamp & Thời điểm tạo đơn hàng. \\ \hline
updated\_at & timestamp & Thời điểm cập nhật đơn hàng. \\ \hline
\end{tabular}
\caption{Bảng diễn giải lớp Orders}
\label{tab:orders}
\end{table}

%====================================================
% Class Order_Items
%====================================================
\subsection{Class Order\_Items}

\begin{table}[H]
\centering
\begin{tabular}{|l|l|p{7cm}|}
\hline
\textbf{Thuộc tính} & \textbf{Kiểu dữ liệu} & \textbf{Diễn giải} \\ \hline
id & int (PK) & Khóa chính chi tiết đơn hàng. \\ \hline
order\_id & int (FK) & Tham chiếu đến bảng Orders(id). \\ \hline
product\_id & int (FK) & Tham chiếu đến bảng Products(id). \\ \hline
quantity & int & Số lượng sản phẩm đặt mua. \\ \hline
price\_at\_time & decimal & Giá sản phẩm tại thời điểm đặt hàng. \\ \hline
created\_at & timestamp & Thời điểm tạo bản ghi. \\ \hline
\end{tabular}
\caption{Bảng diễn giải lớp Order\_Items}
\label{tab:order_items}
\end{table}

%====================================================
% Class Payments
%====================================================
\subsection{Class Payments}

\begin{table}[H]
\centering
\begin{tabular}{|l|l|p{7cm}|}
\hline
\textbf{Thuộc tính} & \textbf{Kiểu dữ liệu} & \textbf{Diễn giải} \\ \hline
id & int (PK) & Khóa chính thanh toán. \\ \hline
order\_id & int (FK) & Tham chiếu đến bảng Orders(id). \\ \hline
amount & decimal & Số tiền thanh toán. \\ \hline
payment\_method & varchar & Phương thức thanh toán. \\ \hline
status & varchar & Trạng thái thanh toán (pending, success, failed). \\ \hline
transaction\_id & varchar & Mã giao dịch từ cổng thanh toán. \\ \hline
pay\_date & timestamp & Thời điểm thực hiện thanh toán. \\ \hline
created\_at & timestamp & Thời điểm tạo bản ghi thanh toán. \\ \hline
\end{tabular}
\caption{Bảng diễn giải lớp Payments}
\label{tab:payments}
\end{table}

%====================================================
% Class Reviews
%====================================================
\subsection{Class Reviews}

\begin{table}[H]
\centering
\begin{tabular}{|l|l|p{7cm}|}
\hline
\textbf{Thuộc tính} & \textbf{Kiểu dữ liệu} & \textbf{Diễn giải} \\ \hline
id & int (PK) & Khóa chính đánh giá. \\ \hline
user\_id & int (FK) & Tham chiếu đến bảng Users(id). \\ \hline
product\_id & int (FK) & Tham chiếu đến bảng Products(id). \\ \hline
rating & int & Số sao đánh giá (1--5). \\ \hline
comment & text & Nội dung nhận xét của khách hàng. \\ \hline
created\_at & timestamp & Thời điểm tạo đánh giá. \\ \hline
updated\_at & timestamp & Thời điểm chỉnh sửa đánh giá. \\ \hline
\end{tabular}
\caption{Bảng diễn giải lớp Reviews}
\label{tab:reviews}
\end{table}

%====================================================
% Class Vouchers
%====================================================
\subsection{Class Vouchers}

\begin{table}[H]
\centering
\begin{tabular}{|l|l|p{7cm}|}
\hline
\textbf{Thuộc tính} & \textbf{Kiểu dữ liệu} & \textbf{Diễn giải} \\ \hline
id & int (PK) & Khóa chính voucher. \\ \hline
code & varchar & Mã giảm giá (duy nhất). \\ \hline
discount\_type & varchar & Loại giảm giá (percent hoặc fixed). \\ \hline
discount\_value & decimal & Giá trị giảm giá tương ứng. \\ \hline
start\_date & date & Ngày bắt đầu áp dụng. \\ \hline
end\_date & date & Ngày hết hạn sử dụng. \\ \hline
quantity & int & Số lượt sử dụng tối đa. \\ \hline
status & varchar & Trạng thái (active, expired, disabled). \\ \hline
created\_at & timestamp & Thời điểm tạo voucher. \\ \hline
updated\_at & timestamp & Thời điểm cập nhật voucher. \\ \hline
\end{tabular}
\caption{Bảng diễn giải lớp Vouchers}
\label{tab:vouchers}
\end{table}

%====================================================
% Class User_Addresses
%====================================================
\subsection{Class User\_Addresses}

\begin{table}[H]
\centering
\begin{tabular}{|l|l|p{7cm}|}
\hline
\textbf{Thuộc tính} & \textbf{Kiểu dữ liệu} & \textbf{Diễn giải} \\ \hline
id & int (PK) & Khóa chính địa chỉ người dùng. \\ \hline
user\_id & int (FK) & Tham chiếu đến bảng Users(id). \\ \hline
recipient\_name & varchar & Tên người nhận hàng. \\ \hline
phone & varchar & Số điện thoại người nhận. \\ \hline
address\_line & varchar & Địa chỉ chi tiết (số nhà, đường). \\ \hline
ward & varchar & Phường/Xã. \\ \hline
district & varchar & Quận/Huyện. \\ \hline
city & varchar & Tỉnh/Thành phố. \\ \hline
is\_default & boolean & Đánh dấu địa chỉ mặc định. \\ \hline
created\_at & timestamp & Thời điểm tạo địa chỉ. \\ \hline
updated\_at & timestamp & Thời điểm cập nhật địa chỉ. \\ \hline
\end{tabular}
\caption{Bảng diễn giải lớp User\_Addresses}
\label{tab:user_addresses}
\end{table}

%====================================================
% Class Shipping_Providers
%====================================================
\subsection{Class Shipping\_Providers}

\begin{table}[H]
\centering
\begin{tabular}{|l|l|p{7cm}|}
\hline
\textbf{Thuộc tính} & \textbf{Kiểu dữ liệu} & \textbf{Diễn giải} \\ \hline
id & int (PK) & Khóa chính đơn vị vận chuyển. \\ \hline
name & varchar & Tên đơn vị vận chuyển. \\ \hline
phone & varchar & Số điện thoại liên hệ. \\ \hline
email & varchar & Email hỗ trợ. \\ \hline
created\_at & timestamp & Thời điểm thêm đơn vị. \\ \hline
updated\_at & timestamp & Thời điểm cập nhật thông tin. \\ \hline
\end{tabular}
\caption{Bảng diễn giải lớp Shipping\_Providers}
\label{tab:shipping_providers}
\end{table}

%====================================================
% Class Shipping_Methods
%====================================================
\subsection{Class Shipping\_Methods}

\begin{table}[H]
\centering
\begin{tabular}{|l|l|p{7cm}|}
\hline
\textbf{Thuộc tính} & \textbf{Kiểu dữ liệu} & \textbf{Diễn giải} \\ \hline
id & int (PK) & Khóa chính phương thức vận chuyển. \\ \hline
provider\_id & int (FK) & Tham chiếu đến bảng Shipping\_Providers(id). \\ \hline
name & varchar & Tên phương thức vận chuyển. \\ \hline
fee & decimal & Phí vận chuyển. \\ \hline
estimated\_days & int & Thời gian giao dự kiến (ngày). \\ \hline
created\_at & timestamp & Thời điểm tạo phương thức. \\ \hline
updated\_at & timestamp & Thời điểm cập nhật phương thức. \\ \hline
\end{tabular}
\caption{Bảng diễn giải lớp Shipping\_Methods}
\label{tab:shipping_methods}
\end{table}

%====================================================
% Class Shipping_Trackings
%====================================================
\subsection{Class Shipping\_Trackings}

\begin{table}[H]
\centering
\begin{tabular}{|l|l|p{7cm}|}
\hline
\textbf{Thuộc tính} & \textbf{Kiểu dữ liệu} & \textbf{Diễn giải} \\ \hline
id & int (PK) & Khóa chính theo dõi vận chuyển. \\ \hline
order\_id & int (FK) & Tham chiếu đến bảng Orders(id). \\ \hline
status & varchar & Trạng thái giao hàng hiện tại. \\ \hline
updated\_at & timestamp & Thời điểm cập nhật trạng thái. \\ \hline
note & text & Ghi chú quá trình vận chuyển (nếu có). \\ \hline
\end{tabular}
\caption{Bảng diễn giải lớp Shipping\_Trackings}
\label{tab:shipping_trackings}
\end{table}

%====================================================
% Class Skin_Analyses
%====================================================
\subsection{Class Skin\_Analyses}

\begin{table}[H]
\centering
\begin{tabular}{|l|l|p{7cm}|}
\hline
\textbf{Thuộc tính} & \textbf{Kiểu dữ liệu} & \textbf{Diễn giải} \\ \hline
id & int (PK) & Khóa chính phân tích da. \\ \hline
user\_id & int (FK) & Tham chiếu đến bảng Users(id). \\ \hline
skin\_type & varchar & Loại da (khô, dầu, hỗn hợp...). \\ \hline
concerns & text & Các vấn đề da (mụn, nám, lão hóa...). \\ \hline
recommended\_products & text & Danh sách sản phẩm được đề xuất. \\ \hline
created\_at & timestamp & Thời điểm thực hiện phân tích. \\ \hline
updated\_at & timestamp & Thời điểm cập nhật kết quả. \\ \hline
\end{tabular}
\caption{Bảng diễn giải lớp Skin\_Analyses}
\label{tab:skin_analyses}
\end{table}

%====================================================
% Class Stores
%====================================================
\subsection{Class Stores}

\begin{table}[H]
\centering
\begin{tabular}{|l|l|p{7cm}|}
\hline
\textbf{Thuộc tính} & \textbf{Kiểu dữ liệu} & \textbf{Diễn giải} \\ \hline
id & int (PK) & Khóa chính cửa hàng. \\ \hline
name & varchar & Tên cửa hàng. \\ \hline
address\_detail & varchar & Địa chỉ chi tiết cửa hàng. \\ \hline
latitude & decimal & Vĩ độ vị trí cửa hàng. \\ \hline
longitude & decimal & Kinh độ vị trí cửa hàng. \\ \hline
phone & varchar & Số điện thoại liên hệ. \\ \hline
email & varchar & Email cửa hàng. \\ \hline
manager\_id & int (FK) & Tham chiếu đến bảng Users(id) (quản lý). \\ \hline
created\_at & timestamp & Thời điểm tạo cửa hàng. \\ \hline
updated\_at & timestamp & Thời điểm cập nhật cửa hàng. \\ \hline
\end{tabular}
\caption{Bảng diễn giải lớp Stores}
\label{tab:stores}
\end{table}
