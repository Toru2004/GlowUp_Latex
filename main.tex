% File: main.tex
% Ho Chi Minh University of Transport Thesis template

\documentclass[a4paper,12pt]{report}

% =========================
% LOAD PACKAGES FIRST
% =========================
\usepackage{fontspec}
\usepackage[vietnamese]{babel}
\usepackage{graphicx}

\setmainfont{Times New Roman}
\setsansfont{Arial}
\setmonofont{Courier New}
\usepackage{url}
\urlstyle{rm}

\usepackage{geometry}
\usepackage{fancybox}
\usepackage{xcolor}
\usepackage{anyfontsize}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsfonts}
\usepackage{enumitem}
\usepackage{float}
\usepackage{tikz}
\usetikzlibrary{arrows.meta, positioning, shapes.geometric, shapes.multipart}
\usepackage{placeins}
\usepackage{booktabs}
\usepackage{longtable}
\usepackage{titlesec}
\usepackage[acronym]{glossaries}
\usepackage{tocloft}
\usepackage{setspace}
\onehalfspacing
\usepackage{indentfirst}
\usepackage{caption}
\usepackage{ragged2e} 
\usepackage{array}
\usepackage[hidelinks]{hyperref}

% =========================
% GEOMETRY
% =========================
\geometry{
    a4paper,
    left=3cm,
    right=2cm,
    top=2cm,
    bottom=2cm
}

\setlength{\parindent}{1.25cm}

% =========================
% FORMAT CHAPTER, SECTION, SUBSECTION
% =========================

% Format CHAPTER - 14pt, in hoa, in đậm, căn giữa
\titleformat{\chapter}[hang]
{\normalfont\fontsize{14}{17}\bfseries\centering}
{\MakeUppercase{\chaptertitlename\ \thechapter.}}
{1em}
{\MakeUppercase}

\titlespacing*{\chapter}{0pt}{0pt}{20pt}

% CHAPTER không số (chapter*)
\titleformat{name=\chapter,numberless}[hang]
{\normalfont\fontsize{14}{17}\bfseries\centering}
{}
{0pt}
{\MakeUppercase}

\titlespacing*{\chapter}{0pt}{0pt}{20pt}

% Format SECTION - 13pt, in đậm
\titleformat{\section}
{\normalfont\fontsize{13}{16}\bfseries}
{\thesection}
{1em}
{}

% Format SUBSECTION - 13pt, in đậm, in nghiêng
\titleformat{\subsection}
{\normalfont\fontsize{13}{16}\bfseries\itshape}
{\thesubsection}
{1em}
{}

\makeglossaries

\captionsetup{
    labelfont=it,
    textfont=it
}

\captionsetup[table]{
    labelfont=it,
    textfont=it
}

\begin{document}

% ===== TRANG BÌA - KHÔNG ĐÁNH SỐ =====
\pagenumbering{gobble}
\input{cover}
\clearpage

% ===== MỤC LỤC - ĐÁNH SỐ LA MÃ (i, ii, iii...) =====
\begin{spacing}{1.5}
\include{chapters/front/introduction}
\include{chapters/front/thanks}
\include{chapters/front/assignments}
\end{spacing}

\pagenumbering{roman}
\setcounter{page}{1}

% Tạm tắt format của tocloft
\renewcommand{\cfttoctitlefont}{\hspace*{\fill}\fontsize{14}{17}\selectfont\bfseries\MakeUppercase}
\renewcommand{\cftaftertoctitle}{\hspace*{\fill}}

\renewcommand{\cftchappresnum}{CHƯƠNG~}
\renewcommand{\cftchapaftersnum}{:}
\renewcommand{\cftchapfont}{\bfseries}
\renewcommand{\cftchappagefont}{\bfseries}
\setlength{\cftchapnumwidth}{6em}

\setlength{\cftaftertoctitleskip}{5pt}
\setlength{\cftbeforechapskip}{10pt}
\setlength{\cftbeforesecskip}{3pt}
\setlength{\cftbeforesubsecskip}{2pt}

\tableofcontents
\clearpage

% ===== DANH MỤC HÌNH ẢNH =====
\addcontentsline{toc}{chapter}{DANH MỤC HÌNH ẢNH}

\renewcommand{\cftloftitlefont}{\hspace*{\fill}\fontsize{14}{17}\selectfont\bfseries}
\renewcommand{\cftafterloftitle}{\hspace*{\fill}}
\renewcommand{\listfigurename}{DANH MỤC HÌNH ẢNH}

\renewcommand{\cftfigfont}{\normalfont}
\renewcommand{\cftfigpagefont}{\normalfont}
\renewcommand{\cftfigpresnum}{Hình~}
\renewcommand{\cftfigaftersnum}{:~}
\setlength{\cftfignumwidth}{5em}
\setlength{\cftfigindent}{0pt}

\setlength{\cftbeforeloftitleskip}{-20pt}
\setlength{\cftafterloftitleskip}{10pt}
\setlength{\cftbeforefigskip}{5pt}

\listoffigures
\clearpage

% ===== DANH MỤC BẢNG =====
\addcontentsline{toc}{chapter}{DANH MỤC BẢNG}

\renewcommand{\cftlottitlefont}{\hspace*{\fill}\fontsize{14}{17}\selectfont\bfseries}
\renewcommand{\cftafterlottitle}{\hspace*{\fill}}
\renewcommand{\listtablename}{DANH MỤC BẢNG}

\renewcommand{\cfttabfont}{\normalfont}
\renewcommand{\cfttabpagefont}{\normalfont}
\renewcommand{\cfttabpresnum}{Bảng~}
\renewcommand{\cfttabaftersnum}{:~}
\setlength{\cftbeforetabskip}{0pt}
\setlength{\cfttabnumwidth}{5em}
\setlength{\cfttabindent}{0pt}

\setlength{\cftbeforelottitleskip}{-20pt}
\setlength{\cftafterlottitleskip}{10pt}
\setlength{\cftbeforetabskip}{5pt}

\listoftables
\clearpage

% ===== DANH MỤC TỪ VIẾT TẮT =====
\addcontentsline{toc}{chapter}{DANH MỤC TỪ VIẾT TẮT}
\include{abbreviations}
\clearpage

% ===== NỘI DUNG CHÍNH - ĐÁNH SỐ Ả-RẬP (1, 2, 3...) =====
\pagenumbering{arabic}
\setcounter{page}{1}

\begin{spacing}{1.5}
% Các chapter
\include{chapters/main/chapter1/container}
\include{chapters/main/chapter2/container}
\include{chapters/main/chapter3/container}
\include{chapters/back/conclude/container}
\end{spacing}

% ===== TÀI LIỆU THAM KHẢO =====
\clearpage
\begin{thebibliography}{99}
\addcontentsline{toc}{chapter}{TÀI LIỆU THAM KHẢO}
\fontfamily{ptm}\selectfont % Times New Roman

\bibitem{nuxt_assets}
Nuxt, ``Assets,'' Nuxt Documentation, 2024. [Online]. Available: \url{https://nuxt.com/docs/4.x/getting-started/assets}. [Accessed: Dec. 20, 2025].

\bibitem{nodejs_express_dailydev}
Daily.dev, ``Setup Node.js Express project: A beginner's guide,'' Daily.dev Blog, 2024. [Online]. Available: \url{https://daily.dev/blog/setup-nodejs-express-project-a-beginners-guide}. [Accessed: Dec. 20, 2025].

\bibitem{rag_docker_ray_qdrant}
I. A. Sarthak, ``Implementing a full-stack production RAG with Docker, Ray, Qdrant, and LM Studio,'' Medium, 2024. [Online]. Available: \url{https://iasarthak.medium.com/implementing-a-full-stack-production-rag-with-docker-ray-qdrant-and-lm-studio-b0441ef52420}. [Accessed: Dec. 20, 2025].

\bibitem{acne_kaggle_dataset}
Kaggle, ``Acne Dataset,'' Kaggle Datasets, 2024. [Online]. Available: \url{https://www.kaggle.com/datasets/nayanchaure/acne-dataset}. [Accessed: Dec. 20, 2025].

\bibitem{sql_database_projects_ms}
Microsoft, ``Get started with SQL database projects,'' Microsoft Learn, 2024. [Online]. Available: \url{https://learn.microsoft.com/en-us/sql/tools/sql-database-projects/get-started?view=sql-server-ver17&pivots=sq1-visual-studio}. [Accessed: Dec. 20, 2025].

\end{thebibliography}
\appendix
\chapter*{Phụ lục}
\addcontentsline{toc}{chapter}{Phụ lục}

\section*{Mã nguồn dự án}
\addcontentsline{toc}{section}{Mã nguồn dự án}

Toàn bộ mã nguồn của hệ thống được quản lý trên GitHub, bao gồm các repository sau:

\textbf{Backend Repository:}
\begin{itemize}[noitemsep]
    \item URL: https://github.com/trongvu2003/GlowUp\_Web\_BE.git
    \item Mô tả: Mã nguồn backend được phát triển bằng Express.js, xử lý API, tích hợp database, VNPay, Ollama chatbot và AI services
    \item Công nghệ: Node.js, Express.js, Microsoft SQL Server, Qdrant
\end{itemize}

\textbf{Frontend Repository:}
\begin{itemize}[noitemsep]
    \item URL: https://github.com/Toru2004/GlowUp\_Web.git
    \item Mô tả: Mã nguồn frontend được phát triển bằng Nuxt.js 3.4, cung cấp giao diện người dùng cho hệ thống
    \item Công nghệ: Nuxt.js 3.4, Vue.js, TailwindCSS
\end{itemize}

\section*{Bộ dữ liệu}
\addcontentsline{toc}{section}{Bộ dữ liệu}

Dự án sử dụng bộ dữ liệu công khai để huấn luyện mô hình CNN phân loại mụn:

\textbf{Acne vs Non-Acne Dataset:}
\begin{itemize}[noitemsep]
    \item Nguồn: Kaggle
    \item URL: https://www.kaggle.com/datasets/captainsengupta2000/acne-vs-non-acne-5
    \item Tác giả: Captain Sengupta
    \item Mô tả: Bộ dữ liệu chứa hình ảnh da có mụn và không có mụn, được sử dụng để huấn luyện mô hình CNN phân loại
    \item Số lượng ảnh: 10 000 ảnh
    \item Định dạng: JPEG/PNG images
\end{itemize}

\section*{Công cụ và thư viện}
\addcontentsline{toc}{section}{Công cụ và thư viện}

Các công cụ và thư viện chính được sử dụng trong dự án:

\textbf{Backend:}
\begin{itemize}[noitemsep]
    \item Express.js - Web framework
    \item Sequelize - ORM cho SQL Server
    \item MSSQL - Database driver
    \item Qdrant Client - Vector database client
    \item Ollama - LLM integration
\end{itemize}

\textbf{Frontend:}
\begin{itemize}[noitemsep]
    \item Nuxt.js 3.4 - Vue.js framework
    \item TailwindCSS - UI styling
    \item Axios - HTTP client
    \item Pinia - State management
\end{itemize}

\textbf{AI/ML:}
\begin{itemize}[noitemsep]
    \item PyTorch - Deep learning framework
    \item Flask/FastAPI - Python web framework
    \item OpenCV - Image processing
    \item NumPy - Numerical computing
    \item Pillow - Image handling
\end{itemize}

\section*{Tài liệu tham khảo kỹ thuật}
\addcontentsline{toc}{section}{Tài liệu tham khảo kỹ thuật}

Các tài liệu và API documentation được sử dụng:

\begin{itemize}[noitemsep]
    \item Express.js Documentation: https://expressjs.com/
    \item Nuxt.js Documentation: https://nuxt.com/
    \item Qdrant Documentation: https://qdrant.tech/documentation/
    \item Ollama Documentation: https://ollama.com/docs
    \item VNPay API Documentation: Tài liệu sandbox từ VNPay
    \item PyTorch Documentation: https://pytorch.org/docs/
\end{itemize}

\section*{Môi trường phát triển}
\addcontentsline{toc}{section}{Môi trường phát triển}

Thông tin về môi trường phát triển được sử dụng:

\begin{itemize}[noitemsep]
    \item IDE: Visual Studio Code
    \item Version Control: Git
    \item Package Manager: NPM (Node.js), pip (Python)
    \item Container Platform: Docker Desktop
    \item Testing Tool: Postman (API testing)
    \item Database Management: Azure Data Studio, SQL Server Management Studio
\end{itemize}

\section*{Cấu trúc thư mục dự án}
\addcontentsline{toc}{section}{Cấu trúc thư mục dự án}

\textbf{Backend Structure:}
\begin{itemize}[noitemsep]
    \item /src - Source code chính
    \item /config - Cấu hình hệ thống
    \item /models - Database models
    \item /controllers - Request handlers
    \item /services - Business logic
    \item /routes - API routes
    \item /middleware - Middleware functions
    \item /utils - Utility functions
\end{itemize}

\textbf{Frontend Structure:}
\begin{itemize}[noitemsep]
    \item /pages - Nuxt pages
    \item /components - Vue components
    \item /layouts - Layout templates
    \item /composables - Composition functions
    \item /stores - Pinia stores
    \item /assets - Static assets
    \item /public - Public files
\end{itemize}

\textbf{AI Model Structure:}
\begin{itemize}[noitemsep]
    \item /api - API endpoints
    \item /config - Cấu hình hệ thống
    \item /model - Trained models
    \item /schemas - Data validation schemas
    \item /services - Business logic và service layer
\end{itemize}

\end{document}